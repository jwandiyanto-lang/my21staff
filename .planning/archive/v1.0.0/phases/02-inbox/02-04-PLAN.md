---
phase: 02-inbox
plan: 04
type: execute
wave: 3
depends_on: ["02-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Inbox loads and displays conversations"
    - "Message thread shows history"
    - "Send message works end-to-end"
    - "Real-time updates work"
---

<objective>
Verify the complete inbox functionality with human testing.

Purpose: Ensure the WhatsApp inbox works correctly before moving to next phase.
Output: Verified working inbox or issues identified for fixing.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-inbox/02-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete WhatsApp inbox with:
- Conversation list with status/tag filters
- Message thread with date separators
- Send message via Kapso
- Real-time updates via Convex
  </what-built>
  <how-to-verify>
1. Start dev server: `npm run dev`
2. Navigate to http://localhost:3000/eagle-overseas/inbox

**Test Conversation List:**
- [ ] Conversations load and display
- [ ] Contact names/phones show correctly
- [ ] Last message preview visible
- [ ] Timestamps show relative time
- [ ] Unread badges display for unread conversations
- [ ] CRM tags visible on conversation items
- [ ] Status filter chips work (New, Hot, Warm, etc.)
- [ ] Tag filter chips work

**Test Message Thread:**
- [ ] Click a conversation - messages load
- [ ] Messages in chronological order
- [ ] Date separators show between days
- [ ] Outbound messages on right (brand color)
- [ ] Inbound messages on left (white/muted)
- [ ] Timestamps visible on messages
- [ ] Auto-scroll to bottom on open

**Test Send Message:**
- [ ] Compose input auto-expands
- [ ] Enter sends message
- [ ] Shift+Enter adds new line
- [ ] Message appears in thread after send
- [ ] Check WhatsApp - message received

**Test Real-Time:**
- [ ] Reply from WhatsApp
- [ ] Reply appears in thread automatically
- [ ] Conversation list updates with new preview

**Test Empty States:**
- [ ] No conversation selected shows empty state
- [ ] Loading state shows skeleton
  </how-to-verify>
  <resume-signal>
Type "approved" if all checks pass.
Or describe issues found.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification of complete inbox functionality.
</verification>

<success_criteria>
All verification checklist items pass.
</success_criteria>

<output>
After completion, create `.planning/phases/02-inbox/02-04-SUMMARY.md`
</output>
