---
phase: 01-localhost-polish
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/app/(dashboard)/[workspace]/knowledge-base/knowledge-base-client.tsx
autonomous: true

must_haves:
  truths:
    - "All 5 Your Intern tabs are visible (Persona, Flow, Database, Scoring, Slots)"
    - "Slots tab renders without errors"
    - "All issues from Plan 01 audit are fixed"
  artifacts:
    - path: "src/app/(dashboard)/[workspace]/knowledge-base/knowledge-base-client.tsx"
      provides: "Your Intern tabs including Slots"
      contains: "TabsTrigger value=\"slots\""
  key_links:
    - from: "knowledge-base-client.tsx"
      to: "SlotManager component"
      via: "import and TabsContent render"
      pattern: "<SlotManager"
---

<objective>
Add missing Slots tab to Your Intern and fix issues from Plan 01 audit.

Purpose: Research confirmed SlotManager is imported but never rendered. This plan adds the Slots tab to complete the 5-tab requirement (LOCALHOST-04) and fixes any issues discovered during the interactive audit.
Output: Working Your Intern page with all 5 tabs functional.
</objective>

<execution_context>
@/home/jfransisco/.claude/get-shit-done/workflows/execute-plan.md
@/home/jfransisco/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-localhost-polish/01-01-SUMMARY.md
@src/app/(dashboard)/[workspace]/knowledge-base/knowledge-base-client.tsx
@src/components/knowledge-base/slot-manager.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Slots tab to Your Intern page</name>
  <files>src/app/(dashboard)/[workspace]/knowledge-base/knowledge-base-client.tsx</files>
  <action>
1. Change TabsList from `grid-cols-4` to `grid-cols-5` to accommodate 5 tabs
2. Add TabsTrigger for "slots" after the "scoring" trigger:
   ```tsx
   <TabsTrigger value="slots" className="flex items-center gap-2 py-2">
     <Calendar className="w-4 h-4 shrink-0" />
     <span className="hidden sm:inline">Slots</span>
   </TabsTrigger>
   ```
3. Add TabsContent for "slots" after the "scoring" content:
   ```tsx
   <TabsContent value="slots" className="space-y-6">
     <TabErrorBoundary tabName="Slots">
       <SlotManager workspaceId={workspace.id} teamMembers={teamMembers} />
     </TabErrorBoundary>
   </TabsContent>
   ```

Note: Calendar icon is already imported (line 5). SlotManager is already imported (line 6). TabErrorBoundary is already imported (line 11).
  </action>
  <verify>
1. Run `npm run dev` if not already running
2. Navigate to http://localhost:3000/demo/knowledge-base
3. Confirm 5 tabs are visible: Persona, Flow, Database, Scoring, Slots
4. Click on Slots tab - confirm it renders without error
5. Check browser console for errors
  </verify>
  <done>Your Intern shows 5 tabs, Slots tab loads SlotManager component without errors</done>
</task>

<task type="auto">
  <name>Task 2: Fix issues from Plan 01 audit</name>
  <files>Depends on Plan 01 findings</files>
  <action>
Review the issues documented in Plan 01 SUMMARY and fix each one.

Common issues and their fixes:

**If Clerk component errors in Settings:**
- Add dev mode check to settings page to skip Clerk components

**If console errors on any page:**
- Check for unhandled promise rejections in fetch calls
- Add try-catch or .catch() handlers

**If tabs crash with error boundary:**
- Check the error message and fix the underlying component issue

**If mock data issues:**
- Verify API routes return proper mock data for `workspaceId === 'demo'`

If Plan 01 found no issues, this task is a no-op. Create a note in the summary that no additional fixes were needed.
  </action>
  <verify>
1. Re-test the specific pages/flows that had issues in Plan 01
2. Confirm issues are resolved
3. Browser console shows no errors
  </verify>
  <done>All issues from Plan 01 audit are fixed (or documented as no issues found)</done>
</task>

</tasks>

<verification>
- Your Intern page shows 5 tabs (Persona, Flow, Database, Scoring, Slots)
- All tabs load without error
- Issues from Plan 01 audit are resolved
- Browser console clean on /demo pages
</verification>

<success_criteria>
- TabsList has `grid-cols-5` with 5 TabsTrigger elements
- Slots TabsContent wraps SlotManager in TabErrorBoundary
- All 5 tabs render without throwing errors
- Plan 01 issues are fixed
</success_criteria>

<output>
After completion, create `.planning/phases/01-localhost-polish/01-02-SUMMARY.md`
</output>
