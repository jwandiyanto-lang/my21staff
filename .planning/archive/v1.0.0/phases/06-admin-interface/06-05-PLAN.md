---
phase: 06-admin-interface
plan: 05
type: execute
wave: 2
depends_on: ["06-01", "06-02", "06-03", "06-04"]
files_modified:
  - src/app/(dashboard)/[workspace]/knowledge-base/knowledge-base-client.tsx
autonomous: true

must_haves:
  truths:
    - "All five tabs are enabled and functional"
    - "Tab order is: Persona -> Flow -> Database -> Scoring -> Slots"
    - "Each tab loads its respective component"
    - "Navigation between tabs works smoothly"
  artifacts:
    - path: "src/app/(dashboard)/[workspace]/knowledge-base/knowledge-base-client.tsx"
      provides: "Unified Your Intern page with all tabs"
  key_links:
    - from: "knowledge-base-client.tsx"
      to: "PersonaTab, FlowTab, DatabaseTab, ScoringTab, SlotManager"
      via: "component imports and tab rendering"
      pattern: "import.*Tab"
---

<objective>
Enable all tabs in the Your Intern page after individual components are built.

Purpose: Plans 01-04 build individual tab components independently. This plan integrates them all into the main page, enabling the full "Your Intern" configuration experience.

Output: Fully functional Your Intern page with all 5 tabs working.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Summaries from dependent plans
@.planning/phases/06-admin-interface/06-01-SUMMARY.md
@.planning/phases/06-admin-interface/06-02-SUMMARY.md
@.planning/phases/06-admin-interface/06-03-SUMMARY.md
@.planning/phases/06-admin-interface/06-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Integrate All Tab Components</name>
  <files>src/app/(dashboard)/[workspace]/knowledge-base/knowledge-base-client.tsx</files>
  <action>
Update knowledge-base-client.tsx to enable all tabs:

**Imports:**
```typescript
import { PersonaTab } from '@/components/knowledge-base/persona-tab'
import { FlowTab } from '@/components/knowledge-base/flow-tab'
import { DatabaseTab } from '@/components/knowledge-base/database-tab'
import { ScoringTab } from '@/components/knowledge-base/scoring-tab'
import { SlotManager } from '@/components/knowledge-base/slot-manager'
import { Bot, GitBranch, Database, Target, Calendar } from 'lucide-react'
```

**Tab Configuration:**
```typescript
const tabs = [
  { id: 'persona', label: 'Persona', icon: Bot },
  { id: 'flow', label: 'Flow', icon: GitBranch },
  { id: 'database', label: 'Database', icon: Database },
  { id: 'scoring', label: 'Scoring', icon: Target },
  { id: 'slots', label: 'Slots', icon: Calendar },
]
```

**Tab Content:**
- persona: `<PersonaTab workspaceId={workspace.id} />`
- flow: `<FlowTab workspaceId={workspace.id} />`
- database: `<DatabaseTab workspaceId={workspace.id} />`
- scoring: `<ScoringTab workspaceId={workspace.id} />`
- slots: `<SlotManager workspaceId={workspace.id} teamMembers={teamMembers} />`

**Default Tab:** 'persona' (first tab)

**Remove:** Any disabled={true} or placeholder content for Phase 6 tabs.

**Update Header:**
- Title: "Your Intern"
- Description: "Configure your intern's persona, conversation flow, knowledge, and scoring"
  </action>
  <verify>
- Navigate to /[workspace]/knowledge-base
- All 5 tabs are clickable and enabled
- Each tab shows its component content
- No console errors when switching tabs
  </verify>
  <done>
All tabs integrated and functional in the Your Intern page.
  </done>
</task>

<task type="auto">
  <name>Task 2: Final UI Polish</name>
  <files>src/app/(dashboard)/[workspace]/knowledge-base/knowledge-base-client.tsx</files>
  <action>
Polish the tab interface:

**Tab Grid:**
- Change grid-cols-3 to grid-cols-5 to fit all tabs
- Ensure tabs are responsive (stack on mobile if needed)
- Icons and labels aligned properly

**Tab Active State:**
- Clear visual indicator for active tab
- Subtle hover state for inactive tabs

**Content Area:**
- Consistent padding for all tab contents
- Smooth transition between tabs (optional)

**Loading State:**
- Each tab handles its own loading internally
- No page-level loading needed
  </action>
  <verify>
- Tabs display nicely in a row
- Active tab is clearly indicated
- Switching tabs is smooth
- Works on mobile viewport
  </verify>
  <done>
Your Intern page has polished, responsive tab interface.
  </done>
</task>

</tasks>

<verification>
Full end-to-end verification of Phase 6:

1. **Persona Tab:**
   - Edit intern name, save, refresh - persists
   - Edit tone description, greeting template
   - Set community link for cold leads

2. **Flow Tab:**
   - See default stages
   - Add custom stage
   - Reorder stages
   - Edit stage goal
   - Delete stage

3. **Database Tab:**
   - Create category
   - Add entry to category
   - Filter by category
   - Edit entry
   - Delete entry

4. **Scoring Tab:**
   - Adjust hot threshold
   - Adjust warm threshold (must be < hot)
   - Adjust weights (must sum to 100)
   - Save and refresh

5. **Slots Tab:**
   - Existing functionality still works
   - Add slot, toggle active, delete
</verification>

<success_criteria>
- All 5 tabs enabled and working
- Tab order matches CONTEXT.md: Persona -> Flow -> Database -> Scoring -> Slots
- Sidebar shows "Your Intern"
- All ADMIN and KB requirements addressed
</success_criteria>

<output>
After completion, create `.planning/phases/06-admin-interface/06-05-SUMMARY.md`

This completes Phase 6: Admin Interface.
</output>
