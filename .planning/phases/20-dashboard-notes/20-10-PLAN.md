# Plan 20-10: Dashboard Task Links + Follow-up Notes

## Objective

When clicking a task in dashboard, navigate to contact profile. When marking complete, prompt for follow-up note describing action taken.

## Tasks

### 1. Task Click → Navigate to Database View
- **File:** `src/components/dashboard/upcoming-tasks.tsx`
- Make task name/row clickable
- Navigate to `/[workspace]/database?contact=[contactId]`
- Use `useRouter` from next/navigation

### 2. Complete Action → Follow-up Note Modal
- **File:** `src/components/dashboard/upcoming-tasks.tsx`
- Replace immediate complete with modal/dialog
- Dialog contains:
  - Text: "What action was taken?"
  - Textarea for follow-up note
  - Cancel / Complete buttons
- On complete:
  1. Mark original note as completed (existing `completeTask`)
  2. Create new note with follow-up text (new server action)

### 3. Create Follow-up Note Server Action
- **File:** `src/app/(dashboard)/[workspace]/actions.ts`
- `completeTaskWithFollowup(noteId, followupText, workspaceSlug)`
- Marks task complete AND creates follow-up note in one transaction
- Follow-up note format: "Follow-up: {user text}"

### 4. Follow-up Note Links to Original
- Add `parent_note_id` reference (optional - for threading)
- Or simply include original note context in follow-up text

## Files to Modify

| File | Change |
|------|--------|
| `src/components/dashboard/upcoming-tasks.tsx` | Clickable links + completion modal |
| `src/app/(dashboard)/[workspace]/actions.ts` | `completeTaskWithFollowup` action |

## Success Criteria

- [ ] Clicking task name navigates to database view with contact open
- [ ] Complete button opens modal asking for follow-up note
- [ ] Follow-up note created when task marked complete
- [ ] Both notes visible in contact's activity
