---
phase: 09-testing-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: false

must_haves:
  truths:
    - "WhatsApp message to +62 813-1859-025 triggers Sarah v2 workflow"
    - "Sarah responds with greeting and data gathering"
    - "Kapso workflow execution history shows successful runs"
    - "Messages appear in Kapso conversation logs"
  artifacts: []
  key_links:
    - from: "WhatsApp (+62 813-1859-025)"
      to: "Kapso trigger (bdf48a18-4c39-453a-8a81-e7d14a18fe35)"
      via: "inbound_message event"
    - from: "Kapso trigger"
      to: "Sarah v2 workflow (67cf2cdc-a8fd-43fa-9721-4ea5d82f0190)"
      via: "workflow execution"
---

<objective>
Verify Kapso infrastructure and Sarah v2 workflow are operational end-to-end.

Purpose: Confirm the foundation of WhatsApp automation works before testing CRM integration.
Output: Verified Kapso connection with documented test results.
</objective>

<execution_context>
@/home/jfransisco/.claude/get-shit-done/workflows/execute-plan.md
@/home/jfransisco/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-testing-polish/09-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify Kapso workflow configuration</name>
  <files></files>
  <action>
Use Kapso MCP tools to verify the current state:

1. Use `mcp__kapso__project_info` to confirm project access
2. Use `mcp__kapso__whatsapp_configs_overview` to verify phone +62 813-1859-025 is active
3. Check Sarah v2 workflow status (ID: 67cf2cdc-a8fd-43fa-9721-4ea5d82f0190) is active

Record findings:
- Project ID: 1fda0f3d-a913-4a82-bc1f-a07e1cb5213c
- Phone Config ID: 827ce387-4f0a-4ca7-9e5a-0a3af01c9320
- Trigger ID: bdf48a18-4c39-453a-8a81-e7d14a18fe35
- Workflow ID: 67cf2cdc-a8fd-43fa-9721-4ea5d82f0190

If any configuration is missing or inactive, document the issue.
  </action>
  <verify>Kapso MCP tools return valid configuration data</verify>
  <done>Kapso project, phone, and workflow confirmed active</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Verified Kapso configuration is ready for testing</what-built>
  <how-to-verify>
User needs to send a test WhatsApp message:

1. From Jonathan's personal WhatsApp, send "Hi, I'm interested in your services" to +62 813-1859-025
2. Wait up to 30 seconds for Sarah's response
3. Observe Sarah's greeting (should be warm, under 140 chars, Indonesian-first tone)

Expected Sarah response pattern:
- Greeting with name request
- Friendly, conversational tone
- Max 1-2 emoji

After receiving response, confirm:
- Did Sarah respond? (yes/no)
- Response time: ___ seconds
- Response quality: (good/needs adjustment)
- Any issues observed: ___
  </how-to-verify>
  <resume-signal>Type "sarah-working" if Sarah responded correctly, or describe the issue</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Verify message logs in Kapso</name>
  <files></files>
  <action>
After user confirms Sarah responded, verify the message flow in Kapso:

1. Use `mcp__kapso__whatsapp_search_conversations` to find the test conversation
2. Use `mcp__kapso__whatsapp_get_conversation_context` to view message history
3. Verify both inbound (user) and outbound (Sarah) messages are logged

Document:
- Conversation ID found
- Number of messages in history
- Message flow confirmed (inbound -> outbound)
- Any discrepancies or issues

If conversation not found, check:
- Phone number format normalization
- Timestamp range
- Config ID filter
  </action>
  <verify>Kapso shows conversation with both inbound and outbound messages</verify>
  <done>Message logs confirmed in Kapso - full conversation history visible</done>
</task>

</tasks>

<verification>
1. Kapso project info accessible via MCP
2. Phone +62 813-1859-025 shows as active
3. Sarah v2 workflow (67cf2cdc-...) shows as active
4. Test message triggers Sarah response
5. Both inbound and outbound messages visible in Kapso logs
</verification>

<success_criteria>
- Kapso infrastructure verified operational
- Sarah v2 responds to test messages
- Response time under 30 seconds
- Messages logged in Kapso conversation history
- No critical failures blocking the flow
</success_criteria>

<output>
After completion, create `.planning/phases/09-testing-polish/09-01-SUMMARY.md`
</output>
