---
phase: 02.1-ui-documentation
plan: 06
type: execute
wave: 3
depends_on: []
files_modified:
  - src/app/(dashboard)/[workspace]/dashboard/page.tsx
  - src/app/(dashboard)/[workspace]/settings/settings-client.tsx
  - src/app/providers.tsx
  - src/components/settings/whatsapp-config.tsx
  - convex/forms.ts
autonomous: true

must_haves:
  truths:
    - "Dashboard displays English text (no Indonesian words)"
    - "Settings Team Management uses English labels"
    - "WhatsApp config shows only Meta phone number option (API hidden)"
    - "Settings form fields are interactive and functional"
    - "Clerk deprecation warning resolved (no console warnings)"
  artifacts:
    - path: "src/app/(dashboard)/[workspace]/dashboard/page.tsx"
      provides: "Dashboard with English internationalization"
      contains: "Recent Activities heading"
    - path: "src/app/(dashboard)/[workspace]/settings/settings-client.tsx"
      provides: "Settings with English labels and active form fields"
      contains: "Team Management section"
    - path: "src/app/providers.tsx"
      provides: "Clerk provider with correct redirect props"
      contains: "fallbackRedirectUrl"
    - path: "src/components/settings/whatsapp-config.tsx"
      provides: "WhatsApp config with Meta option only"
      contains: "phone number input, API option hidden"
  key_links:
    - from: "Dashboard page"
      to: "i18n strings"
      via: "hardcoded English text"
      pattern: "Recent Activities|Latest|Today"
    - from: "Clerk provider"
      to: "redirect config"
      via: "fallbackRedirectUrl prop"
      pattern: "fallbackRedirectUrl.*after.*sign"
---

<objective>
Fix internationalization, WhatsApp UI, Settings form interactivity, and Clerk deprecation warning (Issues #13, #14, #15, #16, #21).

Purpose: Multiple medium-priority UI/UX issues degrade user experience and clutter console with deprecation warnings. Dashboard and Settings contain Indonesian text (should be English), WhatsApp config shows internal API option (should be hidden), Settings form fields are non-interactive, and Clerk deprecation warning appears in DevTools. These issues don't block workflows but reduce polish and professionalism.

Output: Fully internationalized English UI, WhatsApp config showing only Meta option, interactive Settings forms, clean console without deprecation warnings.
</objective>

<execution_context>
@/home/jfransisco/.claude/get-shit-done/workflows/execute-plan.md
@/home/jfransisco/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/home/jfransisco/Desktop/21/my21staff/.planning/PROJECT.md
@/home/jfransisco/Desktop/21/my21staff/.planning/ROADMAP.md
@/home/jfransisco/Desktop/21/my21staff/.planning/STATE.md
@/home/jfransisco/Desktop/21/my21staff/.planning/phases/02-production-deployment/02-03-SUMMARY.md

# UI polish files
@/home/jfransisco/Desktop/21/my21staff/src/app/(dashboard)/[workspace]/dashboard/page.tsx
@/home/jfransisco/Desktop/21/my21staff/src/app/(dashboard)/[workspace]/settings/settings-client.tsx
@/home/jfransisco/Desktop/21/my21staff/src/app/providers.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix Dashboard and Settings internationalization (Issues #14, #15)</name>
  <files>
    src/app/(dashboard)/[workspace]/dashboard/page.tsx
    src/app/(dashboard)/[workspace]/settings/settings-client.tsx
  </files>
  <action>
Search for Indonesian text in Dashboard and Settings:

```bash
cd /home/jfransisco/Desktop/21/my21staff
grep -r "Kegiatan Terbaru" src/app/(dashboard)/
grep -r "Tim" src/app/(dashboard)/*/settings/
grep -ri "indonesian\|bahasa" src/
```

**Issue #14: Dashboard Indonesian words**
Example: "Kegiatan Terbaru" should be "Recent Activities"

Find and replace all Indonesian text in Dashboard:
- "Kegiatan Terbaru" → "Recent Activities"
- "Hari Ini" → "Today"
- "Minggu Ini" → "This Week"
- "Bulan Ini" → "This Month"
- Any other Indonesian labels

**Issue #15: Settings Team Management Indonesian words**
Find and replace in Settings:
- Team-related labels should be English
- Check Clerk OrganizationProfile component labels
- Ensure all Settings tabs/sections use English

**Approach:**
1. Search all Dashboard files for Indonesian strings
2. Search all Settings files for Indonesian strings
3. Replace with English equivalents
4. Consider extracting to i18n file for future (optional, not required now)

Test locally: `npm run dev`, visit http://localhost:3000/demo and check all pages for Indonesian text
  </action>
  <verify>
At https://www.my21staff.com/eagle-overseas:
1. Dashboard: Check all headings, labels, stats - all English
2. Settings: Check all sections, tabs, labels - all English
3. Search page source (Ctrl+F) for "Kegiatan", "Tim", other Indonesian words - none found

All UI text is English. Issues #14 and #15 resolved.
  </verify>
  <done>
Dashboard and Settings fully internationalized to English. No Indonesian text visible in UI.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix WhatsApp config and Settings form fields (Issues #16, #13)</name>
  <files>
    src/components/settings/whatsapp-config.tsx
    src/app/(dashboard)/[workspace]/settings/settings-client.tsx
    convex/forms.ts
  </files>
  <action>
**Issue #16: WhatsApp shows API option (should be hidden)**

Find WhatsApp configuration component (likely in Settings):
- Locate integration method selection (API vs Meta phone number)
- Hide or remove API option from UI (keep in code for internal use)
- Show only Meta phone number option to users
- Update labels to clarify this is the official Meta Business API

Example implementation:
```typescript
// Before: Shows both options
<RadioGroup>
  <Radio value="api">WhatsApp Business API</Radio>
  <Radio value="meta">Meta Phone Number</Radio>
</RadioGroup>

// After: Only Meta option visible
<div>
  <Label>WhatsApp Integration</Label>
  <Input placeholder="Enter your Meta Business phone number" />
  <p className="text-sm text-muted-foreground">
    Connect your official WhatsApp Business number from Meta
  </p>
</div>
```

**Issue #13: Settings form fields not active (non-interactive)**

Find form configuration section in Settings:
- Locate form customization fields (likely related to lead forms)
- Check if inputs are disabled, readonly, or not connected to state
- Ensure onChange handlers exist and update state
- Ensure save button is functional
- Check if Convex mutations are connected

Debug steps:
1. Click in form fields - cursor should appear, typing should work
2. Check DevTools Elements - no `disabled` or `readonly` attributes
3. Check React DevTools - state should update when typing
4. Check if convex/forms.ts has update mutations
5. Ensure Settings is calling the mutations on save

Fix approach:
- Remove `disabled` or `readonly` if present
- Add proper `value` and `onChange` props to inputs
- Connect to Convex mutation on save
- Add loading states during save operations

Test each form field individually for interactivity.
  </action>
  <verify>
At https://www.my21staff.com/eagle-overseas/settings:

**WhatsApp Config (Issue #16):**
- Only Meta phone number option visible
- No API/Kapso option shown to user
- Labels clearly indicate official Meta integration

**Form Fields (Issue #13):**
- Click in form customization fields - cursor appears, can type
- Make changes - state updates visibly
- Click save - changes persist
- Reload page - changes still applied
- All form fields interactive and functional

Issues #13 and #16 resolved.
  </verify>
  <done>
WhatsApp config shows only Meta phone number option. Settings form fields are fully interactive and functional.
  </done>
</task>

<task type="auto">
  <name>Task 3: Fix Clerk deprecation warning (Issue #21)</name>
  <files>
    src/app/providers.tsx
  </files>
  <action>
Issue #21: Clerk shows deprecation warning in browser DevTools console:
`afterSignInUrl` is deprecated, should use `fallbackRedirectUrl`

**Find and fix:**

Open browser DevTools Console at https://www.my21staff.com
Look for warning message:
```
[Clerk] The `afterSignInUrl` prop is deprecated. Please use `fallbackRedirectUrl` instead.
```

Read src/app/providers.tsx to find ClerkProvider configuration:

**Current (deprecated):**
```typescript
<ClerkProvider
  afterSignInUrl="/eagle-overseas"
  afterSignUpUrl="/eagle-overseas"
>
```

**Updated (correct):**
```typescript
<ClerkProvider
  fallbackRedirectUrl="/eagle-overseas"
>
```

According to Clerk docs (v5+), `fallbackRedirectUrl` replaces both `afterSignInUrl` and `afterSignUpUrl` with a single unified prop.

**Additional check:**
- Search entire codebase for `afterSignInUrl` and `afterSignUpUrl`
- Replace all occurrences with `fallbackRedirectUrl`
- Ensure redirect behavior still works (test sign-in and sign-up flows)

```bash
cd /home/jfransisco/Desktop/21/my21staff
grep -r "afterSignInUrl\|afterSignUpUrl" src/
```

Test locally: `npm run dev`, sign out, sign in, verify redirects to correct workspace
  </action>
  <verify>
At https://www.my21staff.com:
1. Sign out
2. Sign in with existing account
3. Redirects to /eagle-overseas dashboard (correct workspace)
4. Open DevTools Console
5. No Clerk deprecation warnings visible
6. Sign out, create new test account
7. Redirects correctly after sign-up

Clerk deprecation warning resolved. Issue #21 resolved.
  </verify>
  <done>
Clerk provider using `fallbackRedirectUrl` instead of deprecated `afterSignInUrl/afterSignUpUrl`. Console clean, no deprecation warnings.
  </done>
</task>

</tasks>

<verification>
**Internationalization (Issues #14, #15):**
- Dashboard shows English text only (no "Kegiatan Terbaru")
- Settings Team Management shows English labels
- All UI elements internationalized

**WhatsApp Config (Issue #16):**
- Settings > WhatsApp shows only Meta phone number option
- No API option visible to users
- Clear labeling for Meta Business integration

**Form Interactivity (Issue #13):**
- Settings form fields active and interactive
- Can type in fields, make changes
- Save button works, changes persist
- All customization forms functional

**Clerk Deprecation (Issue #21):**
- Browser DevTools Console clean
- No `afterSignInUrl` deprecation warnings
- Sign-in/sign-up redirects work correctly

**Overall:**
All 5 medium-priority UI/UX issues resolved. Interface polished and professional.
</verification>

<success_criteria>
**Must be TRUE:**
1. Dashboard displays only English text
2. Settings Team Management uses English labels
3. WhatsApp config shows only Meta phone number option
4. Settings form fields are interactive (can type, save works)
5. Clerk deprecation warning not present in console
6. Sign-in/sign-up redirects work correctly
7. Issues #13, #14, #15, #16, #21 from verification report are resolved
</success_criteria>

<output>
After completion, create `.planning/phases/02.1-ui-documentation/2.1-06-SUMMARY.md` following the template structure with:
- Performance metrics (duration, files modified)
- Accomplishments (i18n complete, forms active, deprecation fixed)
- Internationalization approach (English hardcoded vs i18n library future)
- Verification results (all 5 issues resolved)
- UI/UX polish notes (professional interface, clean console)
</output>
